<div class="min-h-screen bg-main py-10 px-6">
  
  <div class="flex justify-center my-8">
  <input  type="text"  placeholder="Search by name..."  [(ngModel)]="searchTerm"
    class="w-full max-w-lg p-3 rounded-xl shadow-md placeholder:text-black/70   focus:bg-white/20 focus:outline-none focus:ring-2 focus:ring-rose-400 transition"
  />
</div>

  <h1 class="text-3xl font-bold text-center mb-8 text-blue-900">ğŸ“¦ Ù…Ù†ØªØ¬Ø§ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h1>

  <!-- Ù„Ùˆ Ù…ÙÙŠØ´ Ù…Ù†ØªØ¬Ø§Øª -->
  @if (!products || products.length === 0) {
    <div class="text-center text-gray-500 text-lg">
      Ù…ÙÙŠØ´ Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¶Ø§ÙØ© Ù„Ø³Ù‡ ğŸ˜…
    </div>
  } @else {
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white border border-rose-200 rounded-2xl shadow-md">
        <thead class="bg-rose-100 text-[#4A70A9]">
          <tr>
            <th class="py-3 px-4 text-left">Name</th>
            <th class="py-3 px-4 text-left">Quantity</th>
            <th class="py-3 px-4 text-left">Category</th>
            <th class="py-3 px-4 text-left"> ExpiryDate</th>
            <th class="py-3 px-4 text-left">Description</th>
            <th class="py-3 px-4 text-left">Price</th>
            <th class="py-3 px-4 text-left">Cost</th>
            <th class="py-3 px-4 text-center">Setting</th>
          </tr>
        </thead>
        <tbody>
          @for (product of products; track product.id) {
           @if (product.name.toLocaleLowerCase().includes(searchTerm.toLocaleLowerCase())) {
            <tr class="border-t  hover:bg-rose-50 transition">
              <td class="py-3 px-4 font-medium text-rose-700">{{ product.name }}</td>

              <td class="py-3 px-4">
                <span
                  class="text-sm px-2 py-1 rounded-full"
                  [class.bg-green-100]="product.quantity > (product.lowStockThreshold || 2)"
                  [class.text-green-700]="product.quantity > (product.lowStockThreshold || 2)"
                  [class.bg-yellow-100]="product.quantity <= (product.lowStockThreshold || 2)"
                  [class.text-yellow-700]="product.quantity <= (product.lowStockThreshold || 2)"
                >
                  {{ product.quantity }} Ù‚Ø·Ø¹Ø©
                </span>
              </td>

              
              <td class="py-3 px-4 text-gray-600">{{ product.category }}</td>

              <td class="py-3 px-4">
                @if (product.expiryDate) {
                  <span [class]="getExpiryColor(product.expiryDate)">
                    {{ product.expiryDate }}
                  </span>
                }
              </td>

              <td class="py-3 px-4 text-gray-500 italic">
                @if (product.description) {
                  "{{ product.description }}"
                }
              </td>

              <td class="py-3 px-4 text-[#4A70A9] font-semibold">
                {{ product.price || 0 }} Ø¬Ù†ÙŠÙ‡
              </td>
              <td class="py-3 px-4 text-[#4A70A9] font-semibold">
                {{ product.Cost }} Ø¬Ù†ÙŠÙ‡
              </td>

              <td class="py-3 px-4 flex flex-col gap-3 lg:flex-row justify-between ">
                <button (click)="addToCart(product)" class="bg-green-400 cursor-pointer text-white px-4 py-2 rounded-xl hover:bg-green-700 transition-colors duration-300" >
                 Add To Cart </button>
                <button (click)="deleteProduct(product.id)" class="bg-rose-600 cursor-pointer text-white px-4 py-2 rounded-xl hover:bg-rose-700 transition-colors duration-300" >
                 Remove </button>
              </td>
            </tr>
           }
          }
        </tbody>
      </table>
    </div>
  }
</div>

